const _0x40a322=_0x1ca1;(function(_0x135962,_0x381707){const _0x20c570=_0x1ca1,_0x5597e3=_0x135962();while(!![]){try{const _0x13598e=-parseInt(_0x20c570(0x12c))/0x1*(parseInt(_0x20c570(0x1e3))/0x2)+-parseInt(_0x20c570(0x19b))/0x3+parseInt(_0x20c570(0x157))/0x4+parseInt(_0x20c570(0x18a))/0x5+parseInt(_0x20c570(0x10e))/0x6+-parseInt(_0x20c570(0x1ae))/0x7*(parseInt(_0x20c570(0x109))/0x8)+parseInt(_0x20c570(0x112))/0x9;if(_0x13598e===_0x381707)break;else _0x5597e3['push'](_0x5597e3['shift']());}catch(_0x5ef943){_0x5597e3['push'](_0x5597e3['shift']());}}}(_0x26f0,0x59241));const ENEMY1_TYPE=_0x40a322(0x100),ENEMY2_TYPE='enemy2',ENEMY3_TYPE=_0x40a322(0x172),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x40a322(0x162)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math['round'](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0x40a322(0x162)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x40a322(0x162)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let audioCtx,masterGainNode,previousMasterGain=0.5,audioBuffers={},playingLoopSources={};const SOUND_PATHS={'PLAYER_SHOOT':_0x40a322(0x134),'ENEMY_SHOOT':_0x40a322(0x196),'EXPLOSION':'Geluiden/kill.mp3','GAME_OVER':_0x40a322(0x1d1),'LOST_LIFE':_0x40a322(0x1c3),'ENTRANCE':_0x40a322(0x16c),'BOSS_DIVE':'Geluiden/Enemy2.mp3','LEVEL_UP':_0x40a322(0x154),'BUTTERFLY_DIVE':'Geluiden/flying.mp3','START_GAME':'Geluiden/Start.mp3','COIN':_0x40a322(0x1de),'BEE_HIT':_0x40a322(0x117),'BUTTERFLY_HIT':_0x40a322(0x1cf),'BOSS_HIT_1':'Geluiden/Boss-hit1.mp3','BOSS_HIT_2':_0x40a322(0x16e),'GRID_BACKGROUND':_0x40a322(0x119),'EXTRA_LIFE':'Geluiden/Extra-Leven.mp3','CS_PERFECT':_0x40a322(0x17c),'CS_CLEAR':_0x40a322(0x149),'WAVE_UP':'Geluiden/Waveup.mp3','MENU_MUSIC':_0x40a322(0x15b),'READY':_0x40a322(0x139),'TRIPLE_ATTACK':_0x40a322(0x148),'CAPTURE':_0x40a322(0x13f),'SHIP_CAPTURED':_0x40a322(0x152),'DUAL_SHIP':_0x40a322(0x1de),'RESULTS_MUSIC':_0x40a322(0xfb),'HI_SCORE':_0x40a322(0x1d8)};let soundVolumes={'PLAYER_SHOOT':0x1,'ENEMY_SHOOT':0.7,'EXPLOSION':0.9,'GAME_OVER':0.8,'LOST_LIFE':0.9,'ENTRANCE':0.6,'BOSS_DIVE':0.7,'LEVEL_UP':0.8,'BUTTERFLY_DIVE':0.6,'START_GAME':0.7,'COIN':0.9,'BEE_HIT':0.8,'BUTTERFLY_HIT':0.8,'BOSS_HIT_1':0.9,'BOSS_HIT_2':0x1,'GRID_BACKGROUND':0.35,'EXTRA_LIFE':0.9,'CS_PERFECT':0x1,'CS_CLEAR':0.8,'WAVE_UP':0.7,'MENU_MUSIC':0.45,'READY':0.7,'TRIPLE_ATTACK':0.8,'CAPTURE':0.7,'SHIP_CAPTURED':0x1,'DUAL_SHIP':0.9,'RESULTS_MUSIC':0.5,'HI_SCORE':0x1};const playerShootSound=_0x40a322(0x174),enemyShootSound=_0x40a322(0x160),explosionSound=_0x40a322(0x18d),gameOverSound=_0x40a322(0x120),lostLifeSound=_0x40a322(0x128),entranceSound=_0x40a322(0x108),bossGalagaDiveSound=_0x40a322(0x14d),levelUpSound=_0x40a322(0x1c9),butterflyDiveSound='BUTTERFLY_DIVE',startSound=_0x40a322(0x1b1),coinSound=_0x40a322(0x199),beeHitSound=_0x40a322(0x104),butterflyHitSound=_0x40a322(0x181),bossHit1Sound=_0x40a322(0x118),bossHit2Sound='BOSS_HIT_2',gridBackgroundSound='GRID_BACKGROUND',extraLifeSound='EXTRA_LIFE',csPerfectSound='CS_PERFECT',csClearSound='CS_CLEAR',waveUpSound=_0x40a322(0x113),menuMusicSound='MENU_MUSIC',readySound=_0x40a322(0x11c),tripleAttackSound=_0x40a322(0x173),captureSound='CAPTURE',shipCapturedSound=_0x40a322(0x1e1),dualShipSound=_0x40a322(0x126),resultsMusicSound=_0x40a322(0x10b),hiScoreSound=_0x40a322(0x1a5);let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode=_0x40a322(0x19f),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];function _0x26f0(){const _0x9ea4be=['Geluiden/CS-Clear.mp3','includes','lineWidth','rgba(255,\x20255,\x20180,\x200.9)','BOSS_DIVE','Afbeeldingen/Level-50.png','webkitRequestFullscreen','bold\x2012px\x20\x27Press\x20Start\x202P\x27','Afbeeldingen/Level-30.png','Geluiden/Capture-ship.mp3','innerWidth','Geluiden/LevelUp.mp3','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','gridCol','1774464WNmkLu','currentTime','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','boss_loop_right','Geluiden/Menu-music.mp3','gamepadconnected','msRequestFullscreen','ArrowDown','width','ENEMY_SHOOT','pause','round','Error\x20handling\x20game\x20resize\x20specifics:','new_path_left','metaKey','Normal\x20Wave\x20Path\x20','mozRequestFullScreen','decodeAudioData','Error\x20in\x20resizeCanvases:','some','KeyW','Geluiden/Entree.mp3','preventDefault','Geluiden/Boss-hit2.mp3','CS_HorizontalFlyByR','stroke','targetGridY','enemy3','TRIPLE_ATTACK','PLAYER_SHOOT','AudioContext\x20not\x20initialized.\x20Cannot\x20load\x20audio\x20buffer.','Numpad0','resize','Error\x20in\x20handleGamepadDisconnected:','Error\x20in\x20playSound\x20for\x20','connect','back','Geluiden/CS-Stage-Perfect-.mp3','open','buttons','KeyA','in_grid','BUTTERFLY_HIT','cyan','Fullscreen\x20error:\x20','lineTo','key','error','addEventListener','requestFullscreen','response','1244325zMlZaA','Escape','new_path_right','EXPLOSION','function','createBufferSource','start','toFixed','Error\x20in\x20loadHighScore:','number','AudioContext','forEach','Geluiden/Fire-enemy.mp3','height','resume','COIN','radius','1472586FCfDKF','documentElement','Afbeeldingen/bee.png','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','rapid','KeyJ','altKey','length','Afbeeldingen/Level-5.png','XMLHttpRequest\x20error\x20loading\x20audio\x20file:\x20','HI_SCORE','Space','buffer','slice','axes','Error\x20decoding\x20audio\x20data\x20from\x20','src','gridRow','beginPath','665dsMrZV','rgba(','body','START_GAME','value','state','max','Error\x20loading\x20image:\x20','getElementById','shoot','gain','ArrowRight','message','arraybuffer','loop','mid_curve_right','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','getContext','Error\x20in\x20handleGamepadConnected:','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','gameCanvas','Geluiden/lost-live.mp3','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','rgba(255,\x20150,\x20150,\x200.55)','pow','fill','pressed','LEVEL_UP','targetX','filter','boss_loop_left','style','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','Geluiden/Butterfly-hit.mp3','stop','Geluiden/gameover.mp3','index','KeyI','CS_LoopAttack_BR','Afbeeldingen/Level-10.png','Error\x20in\x20handleKeyDown:','rgba(255,\x20255,\x20255,\x20','Geluiden/hi-score.mp3','onerror','responseType','alphaChange','atan2','alpha','Geluiden/coin.mp3','rgba(220,\x20220,\x20255,\x200.6)','GET','SHIP_CAPTURED','keys','10EPITfO','targetGridX','Geluiden/results-music.mp3','Error\x20in\x20drawStars:','Afbeeldingen/spaceship.png','Numpad6','catch','enemy1','Afbeeldingen/butterfly.png','clearRect','Enter','BEE_HIT','moving_to_grid','map','Afbeeldingen/bullet-enemy.png','ENTRANCE','45040hhVSWw','strokeStyle','RESULTS_MUSIC','now','gainNode','4021056kPswHv','disconnect','stringify','innerHTML','287874SrcZSO','WAVE_UP','Afbeeldingen/bossGalaga.png','mid_curve_left','moveTo','Geluiden/Bees-hit.mp3','BOSS_HIT_1','Geluiden/Achtergrond-grid.mp3','code','Error\x20in\x20stopSound\x20for\x20','READY','Afbeeldingen/Level-20.png','random','arc','GAME_OVER','parse','starrySkyCanvas','ArrowLeft','CS\x20Path\x20','shiftKey','DUAL_SHIP','Fullscreen\x20error\x20(MS):\x20','LOST_LIFE','floor','gamepad','Error\x20in\x20drawRetroGrid:','762TkMREI','Error\x20initializing\x20Web\x20Audio:','CS_LoopAttack_BL','webkitAudioContext','rgba(180,\x20180,\x20255,\x200.1)','push','cos','Error\x20in\x20saveHighScore:','Geluiden/firing.mp3','min','source','ArrowUp','KeyD','Geluiden/ready.mp3','undefined','Numpad4','suspended','CS_HorizontalFlyByL','sin','Geluiden/Capture.mp3','onload','default','ctrlKey','type','Afbeeldingen/bullet.png','setTargetAtTime','CS_LoopAttack_TL','Fullscreen\x20error\x20(FF):\x20','Geluiden/Triple.mp3'];_0x26f0=function(){return _0x9ea4be;};return _0x26f0();}keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isTouching=![],touchCurrentX=0x0,isDraggingShip=![],shipTouchOffsetX=0x0,lastTapTime=0x0;const TAP_DURATION_THRESHOLD=0xfa;let touchJustFiredSingle=![];const MIN_DRAG_DISTANCE_FOR_TAP_CANCEL=0xa,MIN_DRAG_TIME_FOR_TAP_CANCEL=0x50;let touchStartX=0x0,isTouchFiringActive=![];function _0x1ca1(_0x297ec5,_0x3cd776){const _0x26f066=_0x26f0();return _0x1ca1=function(_0x1ca13c,_0x31c847){_0x1ca13c=_0x1ca13c-0xfb;let _0xf98df7=_0x26f066[_0x1ca13c];return _0xf98df7;},_0x1ca1(_0x297ec5,_0x3cd776);}const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0x40a322(0x1ab)]=_0x40a322(0xfd),beeImage[_0x40a322(0x1ab)]=_0x40a322(0x19d),bulletImage[_0x40a322(0x1ab)]=_0x40a322(0x144),bossGalagaImage[_0x40a322(0x1ab)]=_0x40a322(0x114),butterflyImage['src']=_0x40a322(0x101),logoImage[_0x40a322(0x1ab)]='Afbeeldingen/Logo.png',enemyBulletImage[_0x40a322(0x1ab)]=_0x40a322(0x107);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0x40a322(0x1ab)]='Afbeeldingen/bee-2.png',butterflyImage2[_0x40a322(0x1ab)]='Afbeeldingen/butterfly-2.png',bossGalagaImage2[_0x40a322(0x1ab)]='Afbeeldingen/bossGalaga-2.png';const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x40a322(0x1ab)]='Afbeeldingen/Level-1.png',level5Image['src']=_0x40a322(0x1a3),level10Image[_0x40a322(0x1ab)]=_0x40a322(0x1d5),level20Image[_0x40a322(0x1ab)]=_0x40a322(0x11d),level30Image['src']=_0x40a322(0x151),level50Image[_0x40a322(0x1ab)]=_0x40a322(0x14e);const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0xe,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0x4,MAX_MAX_ATTACKING_ENEMIES=0xa,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.95,MAX_ENEMY_AIM_FACTOR=0.1,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,BASE_GRID_FIRE_INTERVAL=0x7d0,MIN_GRID_FIRE_INTERVAL=0x320,BASE_GRID_FIRE_PROBABILITY=0.05,MAX_GRID_FIRE_PROBABILITY=0.15,BASE_GRID_MAX_FIRING_ENEMIES=0x5,MAX_GRID_MAX_FIRING_ENEMIES=0xf,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART='100,\x20180,\x20255',GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x40a322(0x1af)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,MIN_NORMAL_WAVE_SQUADRON_INTERVAL=0x1,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,ENTRANCE_SQUADRON_FIRE_DELAY_MS=0x5dc,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0x40a322(0x130),CAPTURE_BEAM_COLOR_END=_0x40a322(0x1df),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x40a322(0x1c5),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x40a322(0x150),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID='cyan',FLOATING_SCORE_COLOR_ACTIVE='red',FLOATING_SCORE_COLOR_CS_CHAIN=_0x40a322(0x182),CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0xc,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=0x5,HIT_SPARK_SIZE=0x3,HIT_SPARK_COLOR=_0x40a322(0x14c),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,AI_CAPTURE_PREVENTION_TIME_MS=0xbb8,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x40a322(0x164),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x40a322(0x164)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x40a322(0x164)}]},{'pathId':_0x40a322(0x18c),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x40a322(0x18c)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x40a322(0x18c)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x40a322(0x18c)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x40a322(0x18c)}]},{'pathId':_0x40a322(0x1cc),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc)}]},{'pathId':_0x40a322(0x15a),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':'boss_loop_right'}]},{'pathId':_0x40a322(0x115),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':'mid_curve_left'}]},{'pathId':_0x40a322(0x1bd),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x40a322(0x1bd)}]}],[{'pathId':_0x40a322(0x164),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x40a322(0x164)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x40a322(0x164)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':'new_path_left'}]},{'pathId':_0x40a322(0x18c),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x40a322(0x18c)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x40a322(0x18c)}]},{'pathId':_0x40a322(0x1cc),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x40a322(0x1cc)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x40a322(0x1cc)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x40a322(0x1cc)}]},{'pathId':_0x40a322(0x15a),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x40a322(0x15a)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':'boss_loop_right'}]},{'pathId':'mid_curve_left','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x40a322(0x115)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':'mid_curve_left'}]},{'pathId':_0x40a322(0x1bd),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x40a322(0x1bd)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x40a322(0x1bd)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x2e6292=_0x40a322;starrySkyCanvas=document[_0x2e6292(0x1b6)](_0x2e6292(0x122)),starryCtx=starrySkyCanvas?.[_0x2e6292(0x1bf)]('2d'),retroGridCanvas=document['getElementById']('retroGridCanvas'),retroGridCtx=retroGridCanvas?.['getContext']('2d'),gameCanvas=document[_0x2e6292(0x1b6)](_0x2e6292(0x1c2)),gameCtx=gameCanvas?.[_0x2e6292(0x1bf)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x2e6292(0x186)](_0x2e6292(0x1be)),alert('Error\x20loading\x20critical\x20canvas\x20elements.'),document[_0x2e6292(0x1b0)][_0x2e6292(0x111)]=_0x2e6292(0x19e),![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{!audioCtx&&(audioCtx=new(window[(_0x2e6292(0x194))]||window[(_0x2e6292(0x12f))])(),masterGainNode=audioCtx['createGain'](),masterGainNode[_0x2e6292(0x17a)](audioCtx['destination']),masterGainNode[_0x2e6292(0x1b8)]['value']=0.5,previousMasterGain=0.5);audioBuffers={},playingLoopSources={};let _0x23862b=0x0;const _0x3707af=Object[_0x2e6292(0x1e2)](SOUND_PATHS)[_0x2e6292(0x1a2)];for(const _0x16e829 in SOUND_PATHS){loadAudioBuffer(SOUND_PATHS[_0x16e829],_0x4dae3c=>{audioBuffers[_0x16e829]=_0x4dae3c,_0x23862b++;if(_0x23862b===_0x3707af){}});}}catch(_0x23d616){console['error'](_0x2e6292(0x12d),_0x23d616);}const _0x157f81=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2,enemyBulletImage];return _0x157f81[_0x2e6292(0x195)](_0x579d2d=>{const _0x2041cb=_0x2e6292;if(_0x579d2d)_0x579d2d[_0x2041cb(0x1d9)]=()=>console[_0x2041cb(0x186)](_0x2041cb(0x1b5)+_0x579d2d[_0x2041cb(0x1ab)]);}),!![];}function scaleValue(_0x49cf9e,_0x3c7754,_0x441368){const _0x22bd22=_0x40a322,_0x7dd8a2=Math[_0x22bd22(0x1b4)](0x1,Math[_0x22bd22(0x135)](_0x49cf9e,LEVEL_CAP_FOR_SCALING));if(_0x7dd8a2===0x1)return _0x3c7754;const _0x2c7e51=(_0x7dd8a2-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x3c7754+(_0x441368-_0x3c7754)*_0x2c7e51;}function setupInitialEventListeners(){const _0x5dd17d=_0x40a322;try{window[_0x5dd17d(0x187)](_0x5dd17d(0x15c),handleGamepadConnected),window['addEventListener']('gamepaddisconnected',handleGamepadDisconnected),window['addEventListener'](_0x5dd17d(0x177),resizeCanvases);}catch(_0x1c3924){console[_0x5dd17d(0x186)]('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0x1c3924);}}function getCurrentGridSlotPosition(_0xcdfb1d,_0x2cc114,_0x65195c){const _0x23b6ba=_0x40a322;if(!gameCanvas||gameCanvas[_0x23b6ba(0x15f)]===0x0||_0xcdfb1d<0x0||_0x2cc114<0x0)return{'x':gameCanvas?.[_0x23b6ba(0x15f)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0xa10fdc=ENEMY_WIDTH;let _0x37b2e7=ENEMY_H_SPACING_FIXED,_0x5428e9=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x56e469=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x37b2e7=ENEMY_H_SPACING_FIXED+_0x56e469;const _0x43633a=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x5428e9=ENEMY_V_SPACING+_0x43633a;}const _0x5c8b1e=GRID_COLS*_0xa10fdc+(GRID_COLS-0x1)*_0x37b2e7,_0x68d03c=Math['round']((gameCanvas['width']-_0x5c8b1e)/0x2),_0x57ea16=_0x68d03c+currentGridOffsetX,_0xaf2aaa=_0x57ea16+_0x2cc114*(_0xa10fdc+_0x37b2e7),_0x1ab5ee=(_0xa10fdc-_0x65195c)/0x2,_0xf57f19=Math[_0x23b6ba(0x162)](_0xaf2aaa+_0x1ab5ee),_0x7ae743=Math['round'](ENEMY_TOP_MARGIN+_0xcdfb1d*(ENEMY_HEIGHT+_0x5428e9));return{'x':_0xf57f19,'y':_0x7ae743};}function loadAudioBuffer(_0x238c73,_0x158fae){const _0x5c7bff=_0x40a322;if(!audioCtx){console[_0x5c7bff(0x186)](_0x5c7bff(0x175));return;}const _0x35b9fa=new XMLHttpRequest();_0x35b9fa[_0x5c7bff(0x17d)](_0x5c7bff(0x1e0),_0x238c73,!![]),_0x35b9fa[_0x5c7bff(0x1da)]=_0x5c7bff(0x1bb),_0x35b9fa[_0x5c7bff(0x140)]=function(){const _0x25b029=_0x5c7bff;audioCtx[_0x25b029(0x168)](_0x35b9fa[_0x25b029(0x189)],function(_0x5a0c92){if(_0x158fae)_0x158fae(_0x5a0c92);},function(_0x54d5f7){const _0x4abe57=_0x25b029;console['error'](_0x4abe57(0x1aa)+_0x238c73,_0x54d5f7);});},_0x35b9fa[_0x5c7bff(0x1d9)]=function(){const _0x3416b7=_0x5c7bff;console['error'](_0x3416b7(0x1a4)+_0x238c73);},_0x35b9fa['send']();}function playSound(_0x18dd80,_0x2a6381=![]){const _0x4b50b3=_0x40a322;try{if(!audioCtx||!masterGainNode)return;audioCtx[_0x4b50b3(0x1b3)]===_0x4b50b3(0x13c)&&audioCtx[_0x4b50b3(0x198)]()[_0x4b50b3(0xff)](_0x34ec5f=>console[_0x4b50b3(0x186)]('Error\x20resuming\x20AudioContext:',_0x34ec5f));if(isPaused&&_0x18dd80!==menuMusicSound&&_0x18dd80!==resultsMusicSound)return;_0x18dd80===menuMusicSound&&stopSound(resultsMusicSound);const _0x18dabc=audioBuffers[_0x18dd80];if(!_0x18dabc)return;if(_0x2a6381&&playingLoopSources[_0x18dd80]){try{playingLoopSources[_0x18dd80][_0x4b50b3(0x136)][_0x4b50b3(0x1d0)](),playingLoopSources[_0x18dd80][_0x4b50b3(0x10d)]['disconnect']();}catch(_0x4a0ce8){}delete playingLoopSources[_0x18dd80];}const _0x1c1a41=audioCtx[_0x4b50b3(0x18f)]();_0x1c1a41[_0x4b50b3(0x1a7)]=_0x18dabc;const _0xefedcb=audioCtx['createGain'](),_0x1ca099=soundVolumes[_0x18dd80]!==undefined?soundVolumes[_0x18dd80]:0x1;_0xefedcb[_0x4b50b3(0x1b8)][_0x4b50b3(0x1b2)]=_0x1ca099,_0x1c1a41['connect'](_0xefedcb),_0xefedcb[_0x4b50b3(0x17a)](masterGainNode),_0x1c1a41[_0x4b50b3(0x1bc)]=_0x2a6381,_0x1c1a41[_0x4b50b3(0x190)](0x0),_0x2a6381&&(playingLoopSources[_0x18dd80]={'source':_0x1c1a41,'gainNode':_0xefedcb},_0x18dd80===gridBackgroundSound&&(isGridSoundPlaying=!![]));}catch(_0x4bc9b4){console[_0x4b50b3(0x186)](_0x4b50b3(0x179)+_0x18dd80+':',_0x4bc9b4);}}function stopSound(_0x1fcf02){const _0x420283=_0x40a322;try{if(playingLoopSources[_0x1fcf02]){const _0x5d64aa=playingLoopSources[_0x1fcf02],_0x5ee12f=_0x5d64aa['source'],_0x4e828b=_0x5d64aa[_0x420283(0x10d)];if(_0x5ee12f)try{_0x5ee12f[_0x420283(0x1d0)](0x0);}catch(_0x315cd1){}if(_0x4e828b)try{_0x4e828b[_0x420283(0x10f)]();}catch(_0x2ade7d){}delete playingLoopSources[_0x1fcf02],_0x1fcf02===gridBackgroundSound&&(isGridSoundPlaying=![]);}}catch(_0x1cb893){console['error'](_0x420283(0x11b)+_0x1fcf02+':',_0x1cb893);}}function checkCollision(_0x38b561,_0x381bb1){const _0x282bc6=_0x40a322;if(!_0x38b561||!_0x381bb1)return![];return _0x38b561['x']<_0x381bb1['x']+_0x381bb1[_0x282bc6(0x15f)]&&_0x38b561['x']+_0x38b561['width']>_0x381bb1['x']&&_0x38b561['y']<_0x381bb1['y']+_0x381bb1['height']&&_0x38b561['y']+_0x38b561[_0x282bc6(0x197)]>_0x381bb1['y'];}function triggerFullscreen(){const _0x592617=_0x40a322;if(!document['fullscreenElement']){const _0x58aecf=document[_0x592617(0x19c)];if(_0x58aecf[_0x592617(0x188)])_0x58aecf[_0x592617(0x188)]()['catch'](_0x23520c=>console['error'](_0x592617(0x183)+_0x23520c[_0x592617(0x1ba)]));else{if(_0x58aecf[_0x592617(0x167)])_0x58aecf[_0x592617(0x167)]()['catch'](_0x401445=>console[_0x592617(0x186)](_0x592617(0x147)+_0x401445[_0x592617(0x1ba)]));else{if(_0x58aecf[_0x592617(0x14f)])_0x58aecf[_0x592617(0x14f)]()['catch'](_0x23b2af=>console[_0x592617(0x186)]('Fullscreen\x20error\x20(WebKit):\x20'+_0x23b2af[_0x592617(0x1ba)]));else _0x58aecf[_0x592617(0x15d)]&&_0x58aecf[_0x592617(0x15d)]()[_0x592617(0xff)](_0x1d28f3=>console[_0x592617(0x186)](_0x592617(0x127)+_0x1d28f3[_0x592617(0x1ba)]));}}}}function createStar(){const _0x1db85e=_0x40a322;if(!starrySkyCanvas||starrySkyCanvas[_0x1db85e(0x15f)]===0x0)return null;return{'x':Math[_0x1db85e(0x11e)]()*starrySkyCanvas[_0x1db85e(0x15f)],'y':Math['random']()*starrySkyCanvas[_0x1db85e(0x197)],'radius':Math[_0x1db85e(0x11e)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x1db85e(0x11e)]()*0.8+0.2,'alphaChange':(Math[_0x1db85e(0x11e)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math['random']()*0.5+0.5)};}function createStars(){const _0x4706cd=_0x40a322;stars=[];if(starrySkyCanvas?.[_0x4706cd(0x15f)]>0x0&&starrySkyCanvas?.[_0x4706cd(0x197)]>0x0)for(let _0x78f70d=0x0;_0x78f70d<NUM_STARS;_0x78f70d++){const _0x1feabc=createStar();if(_0x1feabc)stars['push'](_0x1feabc);}}function drawStars(){const _0x22c740=_0x40a322;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas['width']===0x0||starrySkyCanvas[_0x22c740(0x197)]===0x0)return;const _0x5920e2=starrySkyCanvas[_0x22c740(0x15f)],_0x671de7=starrySkyCanvas['height'];starryCtx[_0x22c740(0x102)](0x0,0x0,_0x5920e2,_0x671de7);const _0x4fab44=Math['round'](_0x671de7*GRID_HORIZON_Y_FACTOR),_0x2349f5=_0x671de7-_0x4fab44,_0x44cc25=Math[_0x22c740(0x1b4)](0x0,_0x4fab44-_0x2349f5*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x524a78=_0x4fab44,_0x39ce8f=Math[_0x22c740(0x1b4)](0x1,_0x524a78-_0x44cc25);stars[_0x22c740(0x195)](_0x3a529c=>{const _0x4f5caf=_0x22c740,_0x16ebb8=(_0x3a529c['radius']-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x4bbd94=BASE_PARALLAX_SPEED+_0x16ebb8*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x3a529c['y']+=_0x4bbd94);_0x3a529c['y']>_0x671de7+_0x3a529c['radius']&&(_0x3a529c['y']=-_0x3a529c[_0x4f5caf(0x19a)]*0x2,_0x3a529c['x']=Math[_0x4f5caf(0x11e)]()*_0x5920e2);!isPaused&&(_0x3a529c[_0x4f5caf(0x1dd)]+=_0x3a529c[_0x4f5caf(0x1db)],(_0x3a529c[_0x4f5caf(0x1dd)]<=0.1||_0x3a529c[_0x4f5caf(0x1dd)]>=0x1)&&(_0x3a529c[_0x4f5caf(0x1db)]*=-0x1,_0x3a529c[_0x4f5caf(0x1dd)]=Math[_0x4f5caf(0x1b4)](0.1,Math[_0x4f5caf(0x135)](0x1,_0x3a529c['alpha']))));let _0x18c505=_0x3a529c['alpha'];_0x44cc25>=0x0&&_0x3a529c['y']>_0x44cc25&&(_0x3a529c['y']>=_0x4fab44?_0x18c505=0x0:_0x18c505*=0x1-Math[_0x4f5caf(0x135)](0x1,Math['max'](0x0,(_0x3a529c['y']-_0x44cc25)/_0x39ce8f))),_0x18c505=Math[_0x4f5caf(0x1b4)](0x0,Math[_0x4f5caf(0x135)](0x1,_0x18c505)),_0x18c505>0.01&&(starryCtx[_0x4f5caf(0x1ad)](),starryCtx[_0x4f5caf(0x11f)](Math[_0x4f5caf(0x162)](_0x3a529c['x']),Math[_0x4f5caf(0x162)](_0x3a529c['y']),_0x3a529c[_0x4f5caf(0x19a)],0x0,Math['PI']*0x2),starryCtx['fillStyle']=_0x4f5caf(0x1d7)+_0x18c505[_0x4f5caf(0x191)](0x3)+')',starryCtx[_0x4f5caf(0x1c7)]());});}catch(_0x5223da){console[_0x22c740(0x186)](_0x22c740(0xfc),_0x5223da);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x345bde=_0x40a322;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x345bde(0x15f)]===0x0||retroGridCanvas[_0x345bde(0x197)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0x397bbe=retroGridCanvas['width'],_0x3b02e1=retroGridCanvas[_0x345bde(0x197)];retroGridCtx[_0x345bde(0x102)](0x0,0x0,_0x397bbe,_0x3b02e1);const _0x458468=Math[_0x345bde(0x162)](_0x3b02e1*GRID_HORIZON_Y_FACTOR),_0x4f5c8c=_0x397bbe/0x2,_0x23bbc3=_0x3b02e1-_0x458468;retroGridCtx[_0x345bde(0x14b)]=GRID_LINE_WIDTH;const _0x2a10be=_0x397bbe*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x2e695b=_0x4f5c8c-_0x2a10be/0x2,_0x38357b=_0x4f5c8c+_0x2a10be/0x2,_0x2bb657=_0x458468+_0x23bbc3*0.1,_0x483356=_0x3b02e1,_0x1f64b4=Math['max'](0x1,_0x483356-_0x2bb657);retroGridCtx['strokeStyle']=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x345bde(0x1ad)](),retroGridCtx['moveTo'](_0x2e695b,_0x458468),retroGridCtx[_0x345bde(0x184)](_0x38357b,_0x458468),retroGridCtx[_0x345bde(0x170)]();let _0xb03074=gridOffsetY%GRID_BASE_SPACING;_0xb03074>0x0&&(_0xb03074-=GRID_BASE_SPACING);let _0x25b640=_0x458468-_0xb03074;if(_0x25b640<=_0x458468)_0x25b640+=GRID_BASE_SPACING;while(_0x25b640<_0x3b02e1+GRID_BASE_SPACING){let _0x35c161=Math[_0x345bde(0x1b4)](0x0,Math[_0x345bde(0x135)](0x1,(_0x25b640-_0x458468)/_0x23bbc3));if(_0x25b640>_0x458468&&_0x25b640<=_0x3b02e1+GRID_LINE_WIDTH*0x2){let _0x252e19;if(_0x25b640<=_0x2bb657)_0x252e19=GRID_MIN_ALPHA;else{if(_0x25b640>=_0x483356)_0x252e19=GRID_BASE_ALPHA;else{const _0x306dc7=(_0x25b640-_0x2bb657)/_0x1f64b4;_0x252e19=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x306dc7;}}_0x252e19=Math[_0x345bde(0x1b4)](0x0,Math['min'](GRID_BASE_ALPHA,_0x252e19)),_0x252e19>0.01&&(retroGridCtx[_0x345bde(0x10a)]=_0x345bde(0x1af)+GRID_RGB_PART+',\x20'+_0x252e19[_0x345bde(0x191)](0x3)+')',retroGridCtx['beginPath'](),retroGridCtx[_0x345bde(0x116)](_0x2e695b,Math[_0x345bde(0x162)](_0x25b640)),retroGridCtx[_0x345bde(0x184)](_0x38357b,Math['round'](_0x25b640)),retroGridCtx[_0x345bde(0x170)]());}let _0x2def55=GRID_BASE_SPACING*Math[_0x345bde(0x1c6)](0x1+_0x35c161*1.5,GRID_SPACING_POWER);_0x25b640+=Math[_0x345bde(0x1b4)](0x1,_0x2def55);}retroGridCtx[_0x345bde(0x10a)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x345bde(0x1ad)]();const _0x5f06f=Math[_0x345bde(0x129)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x4e1d44=_0x397bbe*GRID_HORIZON_SPREAD_FACTOR,_0x31b6ea=_0x397bbe*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x5f492b=0x0;_0x5f492b<=_0x5f06f;_0x5f492b++){let _0x5ec064=Math[_0x345bde(0x1c6)](_0x5f492b/_0x5f06f,GRID_PERSPECTIVE_POWER),_0x464986=_0x4f5c8c+_0x5ec064*(_0x4e1d44/0x2),_0x333850=_0x4f5c8c-_0x5ec064*(_0x4e1d44/0x2),_0x1b75f4=_0x4f5c8c+_0x5ec064*(_0x31b6ea/0x2),_0x32837f=_0x4f5c8c-_0x5ec064*(_0x31b6ea/0x2);retroGridCtx[_0x345bde(0x116)](_0x464986,_0x458468),retroGridCtx[_0x345bde(0x184)](_0x1b75f4,_0x3b02e1),_0x5f492b>0x0&&(retroGridCtx['moveTo'](_0x333850,_0x458468),retroGridCtx[_0x345bde(0x184)](_0x32837f,_0x3b02e1));}retroGridCtx[_0x345bde(0x170)]();}catch(_0x1e1c2f){console['error'](_0x345bde(0x12b),_0x1e1c2f);}}function calculateBezierPoint(_0xca73b0,_0x376257,_0x48b6c5,_0x43e194,_0x4b1686){const _0x3b3d80=0x1-_0xca73b0,_0x49ce0c=_0xca73b0*_0xca73b0,_0x170287=_0x3b3d80*_0x3b3d80,_0xcf7119=_0x170287*_0x3b3d80,_0xc00975=_0x49ce0c*_0xca73b0;let _0x58b131=_0xcf7119*_0x376257;return _0x58b131+=0x3*_0x170287*_0xca73b0*_0x48b6c5,_0x58b131+=0x3*_0x3b3d80*_0x49ce0c*_0x43e194,_0x58b131+=_0xc00975*_0x4b1686,_0x58b131;}function defineNormalWaveEntrancePaths(){const _0x2923d1=_0x40a322;normalWaveEntrancePaths={};const _0x2d4c97=gameCanvas?.[_0x2923d1(0x15f)],_0x4df2d3=gameCanvas?.[_0x2923d1(0x197)];if(!_0x2d4c97||!_0x4df2d3||_0x2d4c97===0x0){console['error'](_0x2923d1(0x155));return;}const _0x1146d7=_0x2d4c97/0x320,_0x974078=_0x4df2d3/0x258,_0x36e18e=-Math[_0x2923d1(0x1b4)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x2b5baf=_0x2d4c97/0x2,_0x4c3dd7=-0x19,_0xb40365=ENEMY_WIDTH,_0x36e934=ENEMY_H_SPACING_FIXED,_0x3ab20c=GRID_COLS*_0xb40365+(GRID_COLS-0x1)*_0x36e934,_0x206888=Math['round']((_0x2d4c97-_0x3ab20c)/0x2),_0x3fa9ff=_0x206888+0x4*(_0xb40365+_0x36e934)+_0xb40365/0x2,_0x267338=_0x206888+0x5*(_0xb40365+_0x36e934)+_0xb40365/0x2,_0x17bf6b=(_0x3fa9ff+_0x267338)/0x2+_0x4c3dd7,_0x31ca11=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x132b53=_0x31ca11+0x3c*_0x974078,_0x11ec0e=[{'p0':{'x':0x50/0x190*0x320*_0x1146d7+_0x4c3dd7,'y':_0x36e18e},'p1':{'x':0x1b8/0x190*0x320*_0x1146d7+_0x4c3dd7,'y':0x8c/0x12c*0x258*_0x974078},'p2':{'x':0x104/0x190*0x320*_0x1146d7+_0x4c3dd7,'y':0x154/0x12c*0x258*_0x974078},'p3':{'x':_0x17bf6b,'y':_0x132b53}}];normalWaveEntrancePaths[_0x2923d1(0x164)]=_0x11ec0e;const _0x43e381=_0x11ec0e[_0x2923d1(0x106)](_0x1fd6ee=>({'p0':{'x':_0x2d4c97-(_0x1fd6ee['p0']['x']-_0x4c3dd7)+_0x4c3dd7,'y':_0x1fd6ee['p0']['y']},'p1':{'x':_0x2d4c97-(_0x1fd6ee['p1']['x']-_0x4c3dd7)+_0x4c3dd7,'y':_0x1fd6ee['p1']['y']},'p2':{'x':_0x2d4c97-(_0x1fd6ee['p2']['x']-_0x4c3dd7)+_0x4c3dd7,'y':_0x1fd6ee['p2']['y']},'p3':{'x':_0x17bf6b,'y':_0x1fd6ee['p3']['y']}}));normalWaveEntrancePaths[_0x2923d1(0x18c)]=_0x43e381;const _0x19ed9c=_0x272946=>{const _0xccecb=_0x2923d1,_0x3f7aef=_0x272946?'boss_loop_right':_0xccecb(0x1cc),_0x56bc8e=_0x14e572=>_0x272946?_0x2d4c97-_0x14e572:_0x14e572,_0x14e276=0x82*_0x974078,_0x2b28d3=0x50*_0x1146d7,_0x4ed637=0x12c*_0x1146d7,_0x5093f2=0x12c*_0x974078,_0x46ff51=_0x4ed637+_0x2b28d3,_0x326d0c=_0x5093f2,_0x56c2a4=_0x56bc8e(-0x64*_0x1146d7),_0x1ba13f=(0x15e+_0x14e276)*_0x974078,_0x1a1bd8=ENEMY_TOP_MARGIN-0x14,_0x2b5561={'x':_0x56c2a4,'y':_0x1ba13f},_0x2370fd={'x':_0x56bc8e(_0x46ff51),'y':_0x326d0c},_0x381daa={'x':_0x56bc8e(_0x4ed637),'y':_0x5093f2-_0x2b28d3},_0x42f9a7={'x':_0x56bc8e(_0x4ed637-_0x2b28d3),'y':_0x5093f2},_0x5ae38f={'x':_0x56bc8e(_0x4ed637),'y':_0x5093f2+_0x2b28d3},_0x82f7b1={'x':_0x2370fd['x'],'y':_0x1a1bd8},_0x16c311=0.25,_0x353fab=Math[_0xccecb(0x1dc)](_0x2370fd['y']-_0x1ba13f,_0x2370fd['x']-_0x56c2a4),_0x5a62dd={'x':_0x2370fd['x']-Math[_0xccecb(0x132)](_0x353fab)*_0x2b28d3*_0x16c311,'y':_0x2370fd['y']-Math[_0xccecb(0x13e)](_0x353fab)*_0x2b28d3*_0x16c311},_0x769d44={'x':(_0x2b5561['x']+_0x5a62dd['x'])/0x2,'y':(_0x2b5561['y']+_0x5a62dd['y'])/0x2},_0x4a617b={'x':_0x2370fd['x'],'y':(_0x2370fd['y']+_0x82f7b1['y'])/0x2},_0x17da7d=0.552284749831,_0x404a58=_0x2b28d3*_0x17da7d,_0x834e4b=_0x2b28d3*_0x17da7d;let _0x4b9d1f=[];_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x2b5561,'p1':{'x':_0x2b5561['x']+(_0x769d44['x']-_0x2b5561['x'])*0.33,'y':_0x2b5561['y']+(_0x769d44['y']-_0x2b5561['y'])*0.33},'p2':{'x':_0x2b5561['x']+(_0x769d44['x']-_0x2b5561['x'])*0.66,'y':_0x2b5561['y']+(_0x769d44['y']-_0x2b5561['y'])*0.66},'p3':_0x769d44}),_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x769d44,'p1':{'x':_0x769d44['x']+(_0x5a62dd['x']-_0x769d44['x'])*0.33,'y':_0x769d44['y']+(_0x5a62dd['y']-_0x769d44['y'])*0.33},'p2':{'x':_0x769d44['x']+(_0x5a62dd['x']-_0x769d44['x'])*0.66,'y':_0x769d44['y']+(_0x5a62dd['y']-_0x769d44['y'])*0.66},'p3':_0x5a62dd});const _0x26476c={'x':_0x5a62dd['x']+(_0x5a62dd['x']-_0x769d44['x'])*0.3,'y':_0x5a62dd['y']+(_0x5a62dd['y']-_0x769d44['y'])*0.3},_0x2878c7={'x':_0x56bc8e(_0x4ed637+_0x404a58),'y':_0x381daa['y']};return _0x4b9d1f[_0xccecb(0x131)]({'p0':_0x5a62dd,'p1':_0x26476c,'p2':_0x2878c7,'p3':_0x381daa}),_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x381daa,'p1':{'x':_0x56bc8e(_0x4ed637-_0x404a58),'y':_0x381daa['y']},'p2':{'x':_0x42f9a7['x'],'y':_0x42f9a7['y']-_0x834e4b},'p3':_0x42f9a7}),_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x42f9a7,'p1':{'x':_0x42f9a7['x'],'y':_0x42f9a7['y']+_0x834e4b},'p2':{'x':_0x56bc8e(_0x4ed637-_0x404a58),'y':_0x5ae38f['y']},'p3':_0x5ae38f}),_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x5ae38f,'p1':{'x':_0x56bc8e(_0x4ed637+_0x404a58),'y':_0x5ae38f['y']},'p2':{'x':_0x2370fd['x'],'y':_0x2370fd['y']+_0x834e4b},'p3':_0x2370fd}),_0x4b9d1f[_0xccecb(0x131)]({'p0':_0x2370fd,'p1':{'x':_0x2370fd['x']+(_0x4a617b['x']-_0x2370fd['x'])*0.33,'y':_0x2370fd['y']+(_0x4a617b['y']-_0x2370fd['y'])*0.33},'p2':{'x':_0x2370fd['x']+(_0x4a617b['x']-_0x2370fd['x'])*0.66,'y':_0x2370fd['y']+(_0x4a617b['y']-_0x2370fd['y'])*0.66},'p3':_0x4a617b}),_0x4b9d1f['push']({'p0':_0x4a617b,'p1':{'x':_0x4a617b['x']+(_0x82f7b1['x']-_0x4a617b['x'])*0.33,'y':_0x4a617b['y']+(_0x82f7b1['y']-_0x4a617b['y'])*0.33},'p2':{'x':_0x4a617b['x']+(_0x82f7b1['x']-_0x4a617b['x'])*0.66,'y':_0x4a617b['y']+(_0x82f7b1['y']-_0x4a617b['y'])*0.66},'p3':_0x82f7b1}),_0x4b9d1f;};normalWaveEntrancePaths[_0x2923d1(0x1cc)]=_0x19ed9c(![]),normalWaveEntrancePaths[_0x2923d1(0x15a)]=_0x19ed9c(!![]);const _0x3e0eda=0x2ee,_0x12e082=0x15e*_0x974078,_0x6a0594={'x':_0x2b5baf,'y':_0x36e18e},_0x156bde={'x':(_0x2b5baf+(0x2ee-0x190)*(0x2/0x3))*_0x1146d7,'y':(-0x32+(_0x3e0eda- -0x32)*(0x2/0x3))*_0x974078},_0x5c2ebd={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x1146d7,'y':(_0x12e082+(_0x3e0eda-_0x12e082)*(0x1/0x3))*_0x974078},_0xe54d5d={'x':_0x2b5baf,'y':_0x12e082};normalWaveEntrancePaths[_0x2923d1(0x1bd)]=[{'p0':_0x6a0594,'p1':_0x156bde,'p2':_0x5c2ebd,'p3':_0xe54d5d}];const _0x2527f9={'x':_0x2b5baf,'y':_0x36e18e},_0x4a4d91={'x':_0x2d4c97-_0x156bde['x'],'y':_0x156bde['y']},_0x38af92={'x':_0x2d4c97-_0x5c2ebd['x'],'y':_0x5c2ebd['y']},_0x4f7762={'x':_0x2b5baf,'y':_0x12e082};normalWaveEntrancePaths[_0x2923d1(0x115)]=[{'p0':_0x2527f9,'p1':_0x4a4d91,'p2':_0x38af92,'p3':_0x4f7762}];for(const _0xa020e6 in normalWaveEntrancePaths){if(!Array['isArray'](normalWaveEntrancePaths[_0xa020e6])){console[_0x2923d1(0x186)](_0x2923d1(0x166)+_0xa020e6+'\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.'),normalWaveEntrancePaths[_0xa020e6]=[{'p0':{'x':_0x2d4c97/0x2,'y':_0x36e18e},'p1':{'x':_0x2d4c97/0x2,'y':_0x4df2d3/0x3},'p2':{'x':_0x2d4c97/0x2,'y':_0x4df2d3*0x2/0x3},'p3':{'x':_0x2d4c97/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0xa020e6]=normalWaveEntrancePaths[_0xa020e6]['filter'](_0x594a1d=>_0x594a1d?.['p0']&&_0x594a1d?.['p1']&&_0x594a1d?.['p2']&&_0x594a1d?.['p3']&&typeof _0x594a1d['p0']['x']==='number'&&typeof _0x594a1d['p0']['y']===_0x2923d1(0x193)&&typeof _0x594a1d['p1']['x']===_0x2923d1(0x193)&&typeof _0x594a1d['p1']['y']===_0x2923d1(0x193)&&typeof _0x594a1d['p2']['x']==='number'&&typeof _0x594a1d['p2']['y']===_0x2923d1(0x193)&&typeof _0x594a1d['p3']['x']===_0x2923d1(0x193)&&typeof _0x594a1d['p3']['y']===_0x2923d1(0x193)&&!isNaN(_0x594a1d['p0']['x']+_0x594a1d['p0']['y']+_0x594a1d['p1']['x']+_0x594a1d['p1']['y']+_0x594a1d['p2']['x']+_0x594a1d['p2']['y']+_0x594a1d['p3']['x']+_0x594a1d['p3']['y'])),normalWaveEntrancePaths[_0xa020e6][_0x2923d1(0x1a2)]===0x0&&(console[_0x2923d1(0x186)]('Normal\x20Wave\x20Path\x20'+_0xa020e6+_0x2923d1(0x1c4)),normalWaveEntrancePaths[_0xa020e6]=[{'p0':{'x':_0x2d4c97/0x2,'y':_0x36e18e},'p1':{'x':_0x2d4c97/0x2,'y':_0x4df2d3/0x3},'p2':{'x':_0x2d4c97/0x2,'y':_0x4df2d3*0x2/0x3},'p3':{'x':_0x2d4c97/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x4ee8ae=_0x40a322;challengingStagePaths={};const _0x388fa6=gameCanvas?.[_0x4ee8ae(0x15f)],_0x143eba=gameCanvas?.[_0x4ee8ae(0x197)];if(!_0x388fa6||!_0x143eba||_0x388fa6===0x0){console[_0x4ee8ae(0x186)](_0x4ee8ae(0x1ce));return;}const _0x34e9d8=ENEMY_WIDTH,_0x45d72b=ENEMY_HEIGHT,_0x5edff7=-_0x45d72b*1.5,_0x13b58b=_0x143eba+_0x45d72b*0x2,_0x199dd7=-_0x34e9d8*1.5,_0x5567aa=_0x388fa6+_0x34e9d8*1.5,_0xbca6b=_0x388fa6/0x2,_0x227a79=_0x143eba/0x2,_0x5662b0=-0x1c,_0x3a9c55=(_0x3a66d9,_0x58f37d)=>{const _0x209ec9=_0x4ee8ae;return _0x3a66d9[_0x209ec9(0x106)](_0xf70a04=>{const _0x424230=_0x209ec9,_0x30387a=JSON[_0x424230(0x121)](JSON[_0x424230(0x110)](_0xf70a04));if(_0x30387a['p0']&&typeof _0x30387a['p0']['x']==='number')_0x30387a['p0']['x']+=_0x58f37d;if(_0x30387a['p1']&&typeof _0x30387a['p1']['x']===_0x424230(0x193))_0x30387a['p1']['x']+=_0x58f37d;if(_0x30387a['p2']&&typeof _0x30387a['p2']['x']===_0x424230(0x193))_0x30387a['p2']['x']+=_0x58f37d;return _0x30387a['p3']&&typeof _0x30387a['p3']['x']==='number'&&_0x30387a['p3']['x']!==_0x199dd7&&_0x30387a['p3']['x']!==_0x5567aa&&(_0x30387a['p3']['x']+=_0x58f37d),_0x30387a;});},_0x469f3f=37.8/0x320*0.3,_0x283476=0.5-_0x469f3f,_0x5b37ad=0x1c2/0x258,_0x597ced=0.49,_0x4342d5=0x258/0x258,_0x5205c1=0.48,_0x593afc=0x12c/0x258,_0x4294bf=_0x388fa6*_0x283476,_0x594b62=_0x143eba*_0x5b37ad,_0x377b1f=_0x388fa6*_0x597ced,_0x22564e=_0x143eba*Math[_0x4ee8ae(0x135)](0x1,_0x4342d5),_0x4b184a=_0x388fa6*_0x5205c1,_0x1f476d=_0x143eba*_0x593afc,_0x95a698=_0x199dd7,_0x3b2e4c=_0x5edff7,_0x12efaa={'x':_0x4294bf,'y':_0x5edff7},_0x5b1911={'x':_0x4294bf,'y':_0x594b62},_0x4134e4={'x':_0x4294bf,'y':_0x5edff7+(_0x594b62-_0x5edff7)*0.33},_0x1c84c7={'x':_0x4294bf,'y':_0x5edff7+(_0x594b62-_0x5edff7)*0.66},_0xe2c297=_0x5b1911,_0x2e92fb={'x':_0x377b1f,'y':_0x22564e},_0x318875={'x':_0x4b184a,'y':_0x1f476d},_0x1889d9={'x':_0x95a698,'y':_0x3b2e4c},_0x49e2ce=[{'p0':_0x12efaa,'p1':_0x4134e4,'p2':_0x1c84c7,'p3':_0x5b1911},{'p0':_0xe2c297,'p1':_0x2e92fb,'p2':_0x318875,'p3':_0x1889d9}],_0x2b3089=_0x49e2ce[_0x4ee8ae(0x106)](_0x3e4073=>({'p0':{'x':_0x388fa6-_0x3e4073['p0']['x'],'y':_0x3e4073['p0']['y']},'p1':{'x':_0x388fa6-_0x3e4073['p1']['x'],'y':_0x3e4073['p1']['y']},'p2':{'x':_0x388fa6-_0x3e4073['p2']['x'],'y':_0x3e4073['p2']['y']},'p3':{'x':_0x3e4073['p3']['x']===_0x199dd7?_0x5567aa:_0x388fa6-_0x3e4073['p3']['x'],'y':_0x3e4073['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x3a9c55(_0x49e2ce,_0x5662b0),challengingStagePaths['CS3_DiveLoopR_Sharp']=_0x3a9c55(_0x2b3089,_0x5662b0);const _0x5cd713=_0x143eba*0.7,_0x3848f1=_0x143eba*0.03,_0x36641d=_0x388fa6*0.15;challengingStagePaths[_0x4ee8ae(0x13d)]=[{'p0':{'x':_0x199dd7,'y':_0x5cd713},'p1':{'x':_0x199dd7+_0x36641d,'y':_0x5cd713-_0x3848f1},'p2':{'x':_0x5567aa-_0x36641d,'y':_0x5cd713+_0x3848f1},'p3':{'x':_0x5567aa,'y':_0x5cd713}}],challengingStagePaths[_0x4ee8ae(0x16f)]=[{'p0':{'x':_0x5567aa,'y':_0x5cd713},'p1':{'x':_0x5567aa-_0x36641d,'y':_0x5cd713-_0x3848f1},'p2':{'x':_0x199dd7+_0x36641d,'y':_0x5cd713+_0x3848f1},'p3':{'x':_0x199dd7,'y':_0x5cd713}}];const _0xe37d97=_0x143eba*0.8,_0x4558d8=_0x143eba*0.55,_0x524f85=_0x143eba*0.15;challengingStagePaths[_0x4ee8ae(0x146)]=[{'p0':{'x':_0x388fa6*0.1,'y':_0x5edff7},'p1':{'x':_0x388fa6*0.2,'y':_0x143eba*0.2},'p2':{'x':_0x388fa6*0.6,'y':_0xe37d97},'p3':{'x':_0x388fa6*0.7,'y':_0xe37d97}},{'p0':{'x':_0x388fa6*0.7,'y':_0xe37d97},'p1':{'x':_0x388fa6*0.8,'y':_0xe37d97},'p2':{'x':_0x388fa6*0.8,'y':_0x4558d8},'p3':{'x':_0x388fa6*0.7,'y':_0x4558d8}},{'p0':{'x':_0x388fa6*0.7,'y':_0x4558d8},'p1':{'x':_0x388fa6*0.6,'y':_0x4558d8},'p2':{'x':_0x5567aa,'y':_0x524f85},'p3':{'x':_0x5567aa,'y':_0x524f85+_0x143eba*0.1}}],challengingStagePaths['CS_LoopAttack_TR']=[{'p0':{'x':_0x388fa6*0.9,'y':_0x5edff7},'p1':{'x':_0x388fa6*0.8,'y':_0x143eba*0.2},'p2':{'x':_0x388fa6*0.4,'y':_0xe37d97},'p3':{'x':_0x388fa6*0.3,'y':_0xe37d97}},{'p0':{'x':_0x388fa6*0.3,'y':_0xe37d97},'p1':{'x':_0x388fa6*0.2,'y':_0xe37d97},'p2':{'x':_0x388fa6*0.2,'y':_0x4558d8},'p3':{'x':_0x388fa6*0.3,'y':_0x4558d8}},{'p0':{'x':_0x388fa6*0.3,'y':_0x4558d8},'p1':{'x':_0x388fa6*0.4,'y':_0x4558d8},'p2':{'x':_0x199dd7,'y':_0x524f85},'p3':{'x':_0x199dd7,'y':_0x524f85+_0x143eba*0.1}}],challengingStagePaths[_0x4ee8ae(0x12e)]=[{'p0':{'x':_0x199dd7,'y':_0x143eba*0.6},'p1':{'x':_0x388fa6*0.1,'y':_0x143eba*0.4},'p2':{'x':_0x388fa6*0.6,'y':_0x143eba*0.2},'p3':{'x':_0xbca6b,'y':_0x143eba*0.3}},{'p0':{'x':_0xbca6b,'y':_0x143eba*0.3},'p1':{'x':_0x388fa6*0.4,'y':_0x143eba*0.4},'p2':{'x':_0x388fa6*0.3,'y':_0xe37d97*0.9},'p3':{'x':_0x388fa6*0.4,'y':_0xe37d97}},{'p0':{'x':_0x388fa6*0.4,'y':_0xe37d97},'p1':{'x':_0x388fa6*0.5,'y':_0xe37d97*1.05},'p2':{'x':_0xbca6b,'y':_0x5edff7},'p3':{'x':_0xbca6b+_0x388fa6*0.1,'y':_0x5edff7}}],challengingStagePaths[_0x4ee8ae(0x1d4)]=[{'p0':{'x':_0x5567aa,'y':_0x143eba*0.6},'p1':{'x':_0x388fa6*0.9,'y':_0x143eba*0.4},'p2':{'x':_0x388fa6*0.4,'y':_0x143eba*0.2},'p3':{'x':_0xbca6b,'y':_0x143eba*0.3}},{'p0':{'x':_0xbca6b,'y':_0x143eba*0.3},'p1':{'x':_0x388fa6*0.6,'y':_0x143eba*0.4},'p2':{'x':_0x388fa6*0.7,'y':_0xe37d97*0.9},'p3':{'x':_0x388fa6*0.6,'y':_0xe37d97}},{'p0':{'x':_0x388fa6*0.6,'y':_0xe37d97},'p1':{'x':_0x388fa6*0.5,'y':_0xe37d97*1.05},'p2':{'x':_0xbca6b,'y':_0x5edff7},'p3':{'x':_0xbca6b-_0x388fa6*0.1,'y':_0x5edff7}}];for(const _0x5b45da in challengingStagePaths){challengingStagePaths[_0x5b45da]=challengingStagePaths[_0x5b45da][_0x4ee8ae(0x1cb)](_0x1b3810=>_0x1b3810?.['p0']&&_0x1b3810?.['p1']&&_0x1b3810?.['p2']&&_0x1b3810?.['p3']&&!isNaN(_0x1b3810['p0']['x']+_0x1b3810['p0']['y']+_0x1b3810['p1']['x']+_0x1b3810['p1']['y']+_0x1b3810['p2']['x']+_0x1b3810['p2']['y']+_0x1b3810['p3']['x']+_0x1b3810['p3']['y'])),challengingStagePaths[_0x5b45da][_0x4ee8ae(0x1a2)]===0x0&&(console['error'](_0x4ee8ae(0x124)+_0x5b45da+_0x4ee8ae(0x159)),challengingStagePaths[_0x5b45da]=[{'p0':{'x':_0x388fa6/0x2,'y':_0x5edff7},'p1':{'x':_0x388fa6/0x2,'y':_0x143eba/0x3},'p2':{'x':_0x388fa6/0x2,'y':_0x143eba*0x2/0x3},'p3':{'x':_0x388fa6/0x2,'y':_0x13b58b}}]);}}function resizeCanvases(){const _0x381fb0=_0x40a322;try{const _0x52a46d=window[_0x381fb0(0x153)],_0x3b75d7=window['innerHeight'];if(_0x52a46d<=0x0||_0x3b75d7<=0x0)return;starrySkyCanvas&&(starrySkyCanvas[_0x381fb0(0x15f)]!==_0x52a46d||starrySkyCanvas[_0x381fb0(0x197)]!==_0x3b75d7)&&(starrySkyCanvas['width']=_0x52a46d,starrySkyCanvas[_0x381fb0(0x197)]=_0x3b75d7,createStars());retroGridCanvas&&(retroGridCanvas[_0x381fb0(0x15f)]!==_0x52a46d||retroGridCanvas[_0x381fb0(0x197)]!==_0x3b75d7)&&(retroGridCanvas['width']=_0x52a46d,retroGridCanvas[_0x381fb0(0x197)]=_0x3b75d7);if(gameCanvas&&(gameCanvas[_0x381fb0(0x15f)]!==_0x52a46d||gameCanvas[_0x381fb0(0x197)]!==_0x3b75d7)){const _0xaf57d4=gameCanvas['width'];gameCanvas[_0x381fb0(0x15f)]=_0x52a46d,gameCanvas[_0x381fb0(0x197)]=_0x3b75d7,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0xaf57d4,_0x52a46d,_0x3b75d7);}else(!gameCanvas?.['width']||!gameCanvas?.[_0x381fb0(0x197)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x590213){console['error'](_0x381fb0(0x169),_0x590213);}}function handleResizeGameElements(_0x4eb219,_0x2ff280,_0x59ef2d){const _0x218430=_0x40a322;try{currentGridOffsetX=0x0,ship&&(_0x4eb219>0x0&&_0x2ff280>0x0&&typeof ship['x']!==_0x218430(0x13a)?ship['x']=ship['x']/_0x4eb219*_0x2ff280:ship['x']=_0x2ff280/0x2-ship[_0x218430(0x15f)]/0x2,ship['x']=Math[_0x218430(0x1b4)](0x0,Math[_0x218430(0x135)](_0x2ff280-ship[_0x218430(0x15f)],ship['x'])),ship['y']=_0x59ef2d-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x218430(0x1ca)]=ship['x']),enemies[_0x218430(0x195)](_0x575f38=>{const _0x422395=_0x218430;if(_0x575f38&&(_0x575f38[_0x422395(0x1b3)]===_0x422395(0x180)||_0x575f38[_0x422395(0x1b3)]==='returning'||_0x575f38[_0x422395(0x1b3)]===_0x422395(0x105)))try{const _0x3ab604=_0x575f38['type']===ENEMY3_TYPE?BOSS_WIDTH:_0x575f38[_0x422395(0x143)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x4afc3d,y:_0x5f0c07}=getCurrentGridSlotPosition(_0x575f38[_0x422395(0x1ac)],_0x575f38[_0x422395(0x156)],_0x3ab604);_0x575f38[_0x422395(0x1e4)]=_0x4afc3d,_0x575f38[_0x422395(0x171)]=_0x5f0c07,_0x575f38[_0x422395(0x1b3)]===_0x422395(0x180)&&(_0x575f38['x']=_0x4afc3d,_0x575f38['y']=_0x5f0c07);}catch(_0x572f11){console['error'](_0x422395(0x1c1)+_0x575f38['id']+'\x20on\x20resize:',_0x572f11),(_0x575f38[_0x422395(0x1b3)]===_0x422395(0x180)||_0x575f38[_0x422395(0x1b3)]===_0x422395(0x105)||_0x575f38[_0x422395(0x1b3)]==='returning')&&(_0x575f38['x']=_0x2ff280/0x2,_0x575f38['y']=ENEMY_TOP_MARGIN+_0x575f38['gridRow']*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x575f38[_0x422395(0x1e4)]=_0x575f38['x'],_0x575f38[_0x422395(0x171)]=_0x575f38['y']);}});}catch(_0x43d205){console[_0x218430(0x186)](_0x218430(0x163),_0x43d205);}}function handleKeyDown(_0x23d9c1){const _0x360f54=_0x40a322;try{const _0x5a69f6=['\x20',_0x360f54(0x137),_0x360f54(0x15e),_0x360f54(0x123),_0x360f54(0x1b9),'Enter',_0x360f54(0x18b),'w','a','s','d','p','P','j','J','l','L','i','I','Numpad4',_0x360f54(0xfe),_0x360f54(0x176)];(_0x5a69f6[_0x360f54(0x14a)](_0x23d9c1[_0x360f54(0x185)])||_0x5a69f6[_0x360f54(0x14a)](_0x23d9c1[_0x360f54(0x11a)]))&&_0x23d9c1[_0x360f54(0x16d)]();let _0x22e7bc=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x22e7bc=!![]);if(_0x22e7bc)return;if(isInGameState){if((_0x23d9c1['key']==='p'||_0x23d9c1[_0x360f54(0x185)]==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0x360f54(0x18e))togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x23d9c1[_0x360f54(0x185)]==='Escape'||_0x23d9c1[_0x360f54(0x185)]===_0x360f54(0x103)){if(typeof stopGameAndShowMenu===_0x360f54(0x18e))stopGameAndShowMenu();}else{if(!_0x23d9c1[_0x360f54(0x1a1)]&&!_0x23d9c1['ctrlKey']&&!_0x23d9c1[_0x360f54(0x165)]&&!_0x23d9c1[_0x360f54(0x125)]){if(typeof showMenuState===_0x360f54(0x18e))showMenuState();}}}else{switch(_0x23d9c1['code']){case _0x360f54(0x123):case _0x360f54(0x17f):keyboardP1LeftDown=!![];break;case _0x360f54(0x1b9):case _0x360f54(0x138):keyboardP1RightDown=!![];break;case _0x360f54(0x1a6):case _0x360f54(0x137):case _0x360f54(0x16b):keyboardP1ShootDown=!![];break;case _0x360f54(0x1a0):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case'KeyL':if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x360f54(0x1d3):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0x360f54(0x13b):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x360f54(0xfe):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x360f54(0x176):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0x360f54(0x18b):case _0x360f54(0x103):if(typeof stopGameAndShowMenu===_0x360f54(0x18e))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x23d9c1[_0x360f54(0x185)]==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x23d9c1['key']==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x23d9c1[_0x360f54(0x185)]==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x23d9c1[_0x360f54(0x1a1)]&&!_0x23d9c1[_0x360f54(0x142)]&&!_0x23d9c1[_0x360f54(0x165)]&&!_0x23d9c1[_0x360f54(0x125)]&&_0x23d9c1[_0x360f54(0x185)]!=='p'&&_0x23d9c1[_0x360f54(0x185)]!=='P'){if(typeof showMenuState===_0x360f54(0x18e))showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x23d9c1['key']){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x360f54(0x15e):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x360f54(0x103):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x360f54(0x19f):selectedFiringMode='single',baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0x360f54(0x18b):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0xc93388){console[_0x360f54(0x186)](_0x360f54(0x1d6),_0xc93388),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0xb400c6){const _0x1c28b2=_0x40a322;try{switch(_0xb400c6[_0x1c28b2(0x11a)]){case _0x1c28b2(0x123):case _0x1c28b2(0x17f):keyboardP1LeftDown=![];break;case _0x1c28b2(0x1b9):case _0x1c28b2(0x138):keyboardP1RightDown=![];break;case _0x1c28b2(0x1a6):case _0x1c28b2(0x137):case _0x1c28b2(0x16b):keyboardP1ShootDown=![];break;case'KeyJ':keyboardP2LeftDown=![];break;case'KeyL':keyboardP2RightDown=![];break;case _0x1c28b2(0x1d3):keyboardP2ShootDown=![];break;case'Numpad4':keyboardP2LeftDown=![];break;case _0x1c28b2(0xfe):keyboardP2RightDown=![];break;case _0x1c28b2(0x176):keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0xb400c6[_0x1c28b2(0x185)]==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0xb400c6['key']==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0xb400c6['key']==='i')keyboardP2ShootDown=![];}catch(_0x2dee07){console[_0x1c28b2(0x186)]('Error\x20in\x20handleKeyUp:',_0x2dee07),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x29142e){const _0x33b3ad=_0x40a322;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x29142e[_0x33b3ad(0x12a)][_0x33b3ad(0x1d2)];const _0x570ed9=_0x29142e['gamepad']['buttons'][_0x33b3ad(0x1a2)];previousButtonStates=new Array(_0x570ed9)[_0x33b3ad(0x1c7)](![]),previousDemoButtonStates=new Array(_0x570ed9)[_0x33b3ad(0x1c7)](![]),previousGameButtonStates=new Array(_0x570ed9)['fill'](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x29142e[_0x33b3ad(0x12a)][_0x33b3ad(0x1d2)];const _0x2f381e=_0x29142e[_0x33b3ad(0x12a)][_0x33b3ad(0x17e)][_0x33b3ad(0x1a2)];previousGameButtonStatesP2=new Array(_0x2f381e)[_0x33b3ad(0x1c7)](![]);}}}catch(_0x50302c){console[_0x33b3ad(0x186)](_0x33b3ad(0x1c0),_0x50302c);}}function handleGamepadDisconnected(_0x2c0f28){const _0x2c4019=_0x40a322;try{if(connectedGamepadIndex===_0x2c0f28['gamepad'][_0x2c4019(0x1d2)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x2c0f28[_0x2c4019(0x12a)][_0x2c4019(0x1d2)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x319e4f){console[_0x2c4019(0x186)](_0x2c4019(0x178),_0x319e4f),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x317101=_0x40a322;try{let _0x23b374=0x0;isTwoPlayerMode?_0x23b374=Math[_0x317101(0x1b4)](player1Score,player2Score):_0x23b374=score,isManualControl&&_0x23b374>highScore&&(highScore=_0x23b374);}catch(_0x41e1f6){console[_0x317101(0x186)](_0x317101(0x133),_0x41e1f6);}}function loadHighScore(){const _0x507da1=_0x40a322;try{highScore=0x4e20;}catch(_0x486dd6){console[_0x507da1(0x186)](_0x507da1(0x192),_0x486dd6),highScore=0x4e20;}}function muteAllSounds(){const _0x4ff165=_0x40a322;audioCtx&&masterGainNode&&(previousMasterGain=masterGainNode[_0x4ff165(0x1b8)]['value'],masterGainNode['gain'][_0x4ff165(0x145)](0x0,audioCtx[_0x4ff165(0x158)],0.01));for(const _0x3f8e19 in playingLoopSources){stopSound(_0x3f8e19);}isGridSoundPlaying=![];}function unmuteAllSounds(){const _0x4cb16b=_0x40a322;audioCtx&&masterGainNode&&masterGainNode[_0x4cb16b(0x1b8)][_0x4cb16b(0x145)](previousMasterGain,audioCtx[_0x4cb16b(0x158)],0.01),!isInGameState&&typeof menuMusicSound!==_0x4cb16b(0x13a)&&playSound(menuMusicSound,!![]),isInGameState&&!isChallengingStage&&enemies[_0x4cb16b(0x16a)](_0x4cbf5c=>_0x4cbf5c?.[_0x4cb16b(0x1b3)]===_0x4cb16b(0x180))&&playSound(gridBackgroundSound,!![]),isShowingResultsScreen&&playSound(resultsMusicSound,!![]);}function togglePause(){const _0x353649=_0x40a322;if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused;if(isPaused){muteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(gameCanvas)gameCanvas[_0x353649(0x1cd)]['cursor']=_0x353649(0x141);}else unmuteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function processSingleController(_0x23c99c,_0x3cb1a7){const _0xabd502=_0x40a322,_0x50b520=_0x23c99c[_0xabd502(0x17e)][_0xabd502(0x106)](_0x2707d2=>_0x2707d2[_0xabd502(0x1c8)]),_0x109c49={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x50b520[_0xabd502(0x1a8)]()},_0x18f582=_0x50b520[PS5_BUTTON_CROSS],_0x3e257f=_0x50b520[PS5_BUTTON_R1],_0x37784b=_0x3cb1a7[PS5_BUTTON_R1]??![],_0x222a38=_0x50b520[PS5_BUTTON_TRIANGLE],_0xa8fa9d=_0x3cb1a7[PS5_BUTTON_TRIANGLE]??![],_0x4e6e7c=_0x23c99c[_0xabd502(0x1a9)][PS5_LEFT_STICK_X]??0x0,_0x40e96d=_0x50b520[PS5_DPAD_LEFT],_0x35b99b=_0x50b520[PS5_DPAD_RIGHT],_0x5331b6=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x4e6e7c<-_0x5331b6||_0x40e96d)_0x109c49['left']=!![];else(_0x4e6e7c>_0x5331b6||_0x35b99b)&&(_0x109c49['right']=!![]);return _0x18f582&&(_0x109c49[_0xabd502(0x1b7)]=!![]),_0x3e257f&&!_0x37784b&&(_0x109c49[_0xabd502(0x161)]=!![]),_0x222a38&&!_0xa8fa9d&&(_0x109c49[_0xabd502(0x17b)]=!![]),_0x109c49;}function triggerFinalGameOverSequence(){const _0x3875f0=_0x40a322;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();stopSound(gridBackgroundSound),stopSound(menuMusicSound),stopSound(resultsMusicSound),stopSound(captureSound),stopSound(entranceSound),isGridSoundPlaying=![];const _0xc232e9=Date[_0x3875f0(0x10c)]();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0xc232e9):(gameOverSequenceStartTime=_0xc232e9-GAME_OVER_DURATION,playSound(resultsMusicSound,!![]),isShowingResultsScreen=!![]),bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}